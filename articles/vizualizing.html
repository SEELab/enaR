<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Vizualizing your Network â€¢ enaR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Vizualizing your Network">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">enaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/enaR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/enterData.html">Entering your Data</a></li>
    <li><a class="dropdown-item" href="../articles/flow_simple.html">Flow Analysis: Simple</a></li>
    <li><a class="dropdown-item" href="../articles/structure_advanced.html">Structure Analysis: Advanced</a></li>
    <li><a class="dropdown-item" href="../articles/structure_simple.html">Structure Analysis: Simple</a></li>
    <li><a class="dropdown-item" href="../articles/uncertainty_simple.html">Uncertainty Analysis: Simplest Example</a></li>
    <li><a class="dropdown-item" href="../articles/uncertainty_symmetric.html">Uncertainty Analysis: Symmetric Values</a></li>
    <li><a class="dropdown-item" href="../articles/utility.html">Utility and Mixed Trophic Analyses</a></li>
    <li><a class="dropdown-item" href="../articles/vizualizing.html">Vizualizing your Network</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SEELab/enaR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Vizualizing your Network</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SEELab/enaR/blob/master/vignettes/vizualizing.Rmd" class="external-link"><code>vignettes/vizualizing.Rmd</code></a></small>
      <div class="d-none name"><code>vizualizing.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SEELab/enaR" class="external-link">enaR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://statnet.org/" class="external-link">network</a></span><span class="op">)</span></span></code></pre></div>
<p>This page illustrates how to use visualize a network model using the
tools in <code>enaR</code> and the <code>network</code> package.</p>
<p>Load the library of models and select one to use for this
illustration.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">enaModels</span><span class="op">)</span>        <span class="co"># load library of Ecosystem Networks</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">enaModels</span><span class="op">)</span>       <span class="co"># view model names</span></span>
<span><span class="co">#&gt;   [1] "Marine Coprophagy (oyster)"              </span></span>
<span><span class="co">#&gt;   [2] "Lake Findley "                           </span></span>
<span><span class="co">#&gt;   [3] "Mirror Lake"                             </span></span>
<span><span class="co">#&gt;   [4] "Lake Wingra"                             </span></span>
<span><span class="co">#&gt;   [5] "Marion Lake"                             </span></span>
<span><span class="co">#&gt;   [6] "Cone Springs"                            </span></span>
<span><span class="co">#&gt;   [7] "Silver Springs"                          </span></span>
<span><span class="co">#&gt;   [8] "English Channel"                         </span></span>
<span><span class="co">#&gt;   [9] "Oyster Reef "                            </span></span>
<span><span class="co">#&gt;  [10] "Baie de Somme"                           </span></span>
<span><span class="co">#&gt;  [11] "Bothnian Bay"                            </span></span>
<span><span class="co">#&gt;  [12] "Bothnian Sea"                            </span></span>
<span><span class="co">#&gt;  [13] "Ythan Estuary"                           </span></span>
<span><span class="co">#&gt;  [14] "Sundarban Mangrove (virgin)"             </span></span>
<span><span class="co">#&gt;  [15] "Sundarban Mangrove (reclaimed)"          </span></span>
<span><span class="co">#&gt;  [16] "Baltic Sea"                              </span></span>
<span><span class="co">#&gt;  [17] "Ems Estuary"                             </span></span>
<span><span class="co">#&gt;  [18] "Swartkops Estuary  15"                   </span></span>
<span><span class="co">#&gt;  [19] "Southern Benguela Upwelling"             </span></span>
<span><span class="co">#&gt;  [20] "Peruvian Upwelling"                      </span></span>
<span><span class="co">#&gt;  [21] "Crystal River (control)"                 </span></span>
<span><span class="co">#&gt;  [22] "Crystal River (thermal)"                 </span></span>
<span><span class="co">#&gt;  [23] "Charca de Maspalomas Lagoon"             </span></span>
<span><span class="co">#&gt;  [24] "Northern Benguela Upwelling"             </span></span>
<span><span class="co">#&gt;  [25] "Swartkops Estuary"                       </span></span>
<span><span class="co">#&gt;  [26] "Sunday Estuary"                          </span></span>
<span><span class="co">#&gt;  [27] "Kromme Estuary"                          </span></span>
<span><span class="co">#&gt;  [28] "Okefenokee Swamp"                        </span></span>
<span><span class="co">#&gt;  [29] "Neuse Estuary (early summer 1997)"       </span></span>
<span><span class="co">#&gt;  [30] "Neuse Estuary (late summer 1997) "       </span></span>
<span><span class="co">#&gt;  [31] "Neuse Estuary (early summer 1998)"       </span></span>
<span><span class="co">#&gt;  [32] "Neuse Estuary (late summer 1998)"        </span></span>
<span><span class="co">#&gt;  [33] "Gulf of Maine"                           </span></span>
<span><span class="co">#&gt;  [34] "Georges Bank"                            </span></span>
<span><span class="co">#&gt;  [35] "Middle Atlantic Bight"                   </span></span>
<span><span class="co">#&gt;  [36] "Narragansett Bay"                        </span></span>
<span><span class="co">#&gt;  [37] "Southern New England Bight"              </span></span>
<span><span class="co">#&gt;  [38] "Chesapeake Bay"                          </span></span>
<span><span class="co">#&gt;  [39] "Mondego Estuary (Zostera sp. Meadows)"   </span></span>
<span><span class="co">#&gt;  [40] "Mdloti Estuary (C, March 2002)"          </span></span>
<span><span class="co">#&gt;  [41] "St. Marks Seagrass, site 1 (Jan.)"       </span></span>
<span><span class="co">#&gt;  [42] "St. Marks Seagrass, site 1 (Feb.)"       </span></span>
<span><span class="co">#&gt;  [43] "St. Marks Seagrass, site 2 (Jan.)"       </span></span>
<span><span class="co">#&gt;  [44] "St. Marks Seagrass, site 2 (Feb.)"       </span></span>
<span><span class="co">#&gt;  [45] "St. Marks Seagrass, site 3 (Jan.)"       </span></span>
<span><span class="co">#&gt;  [46] "St. Marks Seagrass, site 4 (Feb.)"       </span></span>
<span><span class="co">#&gt;  [47] "Sylt-Romo Bight (C)"                     </span></span>
<span><span class="co">#&gt;  [48] "Graminoids (wet)"                        </span></span>
<span><span class="co">#&gt;  [49] "Graminoids (dry)"                        </span></span>
<span><span class="co">#&gt;  [50] "Cypress (wet)"                           </span></span>
<span><span class="co">#&gt;  [51] "Cypress (dry)"                           </span></span>
<span><span class="co">#&gt;  [52] "Lake Oneida (pre-ZM)"                    </span></span>
<span><span class="co">#&gt;  [53] "Lake Oneida (post-ZM)"                   </span></span>
<span><span class="co">#&gt;  [54] "Bay of Quinte (pre-ZM)"                  </span></span>
<span><span class="co">#&gt;  [55] "Bay of Quinte (post-ZM)"                 </span></span>
<span><span class="co">#&gt;  [56] "Mangroves (wet)"                         </span></span>
<span><span class="co">#&gt;  [57] "Mangroves (dry)"                         </span></span>
<span><span class="co">#&gt;  [58] "Florida Bay (wet)"                       </span></span>
<span><span class="co">#&gt;  [59] "Florida Bay (dry)"                       </span></span>
<span><span class="co">#&gt;  [60] "Hubbard Brook (Ca)(Waide)"               </span></span>
<span><span class="co">#&gt;  [61] "Hardwood Forest, NH (Ca)"                </span></span>
<span><span class="co">#&gt;  [62] "Duglas Fir Forest, WA (Ca)"              </span></span>
<span><span class="co">#&gt;  [63] "Duglas Fir Forest, WA (K)"               </span></span>
<span><span class="co">#&gt;  [64] "Puerto Rican Rain Forest (Ca)"           </span></span>
<span><span class="co">#&gt;  [65] "Puerto Rican Rain Forest (K)"            </span></span>
<span><span class="co">#&gt;  [66] "Puerto Rican Rain Forest (Mg)"           </span></span>
<span><span class="co">#&gt;  [67] "Puerto Rican Rain Forest (Cu)"           </span></span>
<span><span class="co">#&gt;  [68] "Puerto Rican Rain Forest (Fe)"           </span></span>
<span><span class="co">#&gt;  [69] "Puerto Rican Rain Forest (Mn)"           </span></span>
<span><span class="co">#&gt;  [70] "Puerto Rican Rain Forest (Na)"           </span></span>
<span><span class="co">#&gt;  [71] "Puerto Rican Rain Forest (Sr)"           </span></span>
<span><span class="co">#&gt;  [72] "Tropical Rain Forest (N)"                </span></span>
<span><span class="co">#&gt;  [73] "Neuse River Estuary (N, AVG)"            </span></span>
<span><span class="co">#&gt;  [74] "Neuse River Estuary (N, Spring 1985)"    </span></span>
<span><span class="co">#&gt;  [75] "Neuse River Estuary (N, Summer 1985)"    </span></span>
<span><span class="co">#&gt;  [76] "Neuse River Estuary (N,  Fall 1985)"     </span></span>
<span><span class="co">#&gt;  [77] "Neuse River Estuary (N, Winter 1986)"    </span></span>
<span><span class="co">#&gt;  [78] "Neuse River Estuary (N, Spring 1986)"    </span></span>
<span><span class="co">#&gt;  [79] "Neuse River Estuary (N, Summer 1986)"    </span></span>
<span><span class="co">#&gt;  [80] "Neuse River Estuary (N, Fall 1986)"      </span></span>
<span><span class="co">#&gt;  [81] "Neuse River Estuary (N, Winter 1987)"    </span></span>
<span><span class="co">#&gt;  [82] "Neuse River Estuary (N, Spring 1987)"    </span></span>
<span><span class="co">#&gt;  [83] "Neuse River Estuary (N, Summer 1987)"    </span></span>
<span><span class="co">#&gt;  [84] "Neuse River Estuary (N, Fall 1987)"      </span></span>
<span><span class="co">#&gt;  [85] "Neuse River Estuary (N, Winter 1988)"    </span></span>
<span><span class="co">#&gt;  [86] "Neuse River Estuary (N, Spring 1988)"    </span></span>
<span><span class="co">#&gt;  [87] "Neuse River Estuary (N, Summer 1988)"    </span></span>
<span><span class="co">#&gt;  [88] "Neuse River Estuary (N, Fall 1988)"      </span></span>
<span><span class="co">#&gt;  [89] "Neuse River Estuary (N, Winter 1989)"    </span></span>
<span><span class="co">#&gt;  [90] "Cape Fear River Estuary (N, oligohaline)"</span></span>
<span><span class="co">#&gt;  [91] "Cape Fear River Estuary (N, polyhaline)" </span></span>
<span><span class="co">#&gt;  [92] "Lake Lanier (P) Averaged"                </span></span>
<span><span class="co">#&gt;  [93] "Great Lakes (N)"                         </span></span>
<span><span class="co">#&gt;  [94] "Baltic Sea (N)"                          </span></span>
<span><span class="co">#&gt;  [95] "Chesapeake Bay (N)"                      </span></span>
<span><span class="co">#&gt;  [96] "Chesapeake Bay (P)"                      </span></span>
<span><span class="co">#&gt;  [97] "Chesapeake Bay (P, Winter)"              </span></span>
<span><span class="co">#&gt;  [98] "Chesapeake Bay (P, Spring)"              </span></span>
<span><span class="co">#&gt;  [99] "Chesapeake Bay (P, Summer)"              </span></span>
<span><span class="co">#&gt; [100] "Chesapeake Bay (P, Fall)"                </span></span>
<span><span class="co">#&gt; [101] "Sylt-Romo Bight (N)"                     </span></span>
<span><span class="co">#&gt; [102] "Sylt-Romo Bight (P)"                     </span></span>
<span><span class="co">#&gt; [103] "Beijing Urban Metabolism (C)"            </span></span>
<span><span class="co">#&gt; [104] "Vienna Urban Metabolism (C)"</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="va">enaModels</span><span class="op">[[</span><span class="fl">9</span><span class="op">]</span><span class="op">]</span>    <span class="co"># select the oyster model</span></span></code></pre></div>
<div class="section level2">
<h2 id="simple-plot">Simple Plot<a class="anchor" aria-label="anchor" href="#simple-plot"></a>
</h2>
<p>We can then create a simple plot of the model with the default
graphics parameters as</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the random seed to control plot output</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>  <span class="co"># this is only used to ensure our plots look the same. </span></span>
<span></span>
<span><span class="co"># Plot network data object (uses plot.network)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="vizualizing_files/figure-html/vizual2-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="fancy-plot">Fancy Plot<a class="anchor" aria-label="anchor" href="#fancy-plot"></a>
</h2>
<p>We can create a fancier plot by exerting more control on the plotting
parameters. Here is an example.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span>  <span class="co">## Set colors to use</span></span>
<span>  <span class="va">my.col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'red'</span>,<span class="st">'yellow'</span>,<span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">204</span>,<span class="fl">204</span>,<span class="fl">153</span>,maxColorValue<span class="op">=</span><span class="fl">255</span><span class="op">)</span>,<span class="st">'grey22'</span><span class="op">)</span></span>
<span>  <span class="co">## Extract flow information for later use.</span></span>
<span>  <span class="cn">F</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">m</span>,attrname<span class="op">=</span><span class="st">'flow'</span><span class="op">)</span></span>
<span>  <span class="co">## Get indices of positive flows</span></span>
<span>  <span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="cn">F</span><span class="op">!=</span><span class="fl">0</span>, arr.ind<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">opar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>las<span class="op">=</span><span class="fl">1</span>,bg<span class="op">=</span><span class="va">my.col</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>,xpd<span class="op">=</span><span class="cn">TRUE</span>,mai<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.02</span>, <span class="fl">0.62</span>, <span class="fl">0.82</span>, <span class="fl">0.42</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co">## Set the random seed to control plot output</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">m</span>,</span>
<span>  <span class="co">## Scale nodes with storage</span></span>
<span>       vertex.cex<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">m</span><span class="op"><a href="https://rdrr.io/pkg/network/man/network.extraction.html" class="external-link">%v%</a></span><span class="st">'storage'</span><span class="op">)</span>,</span>
<span>  <span class="co">## Add node labels</span></span>
<span>       label<span class="op">=</span> <span class="va">m</span><span class="op"><a href="https://rdrr.io/pkg/network/man/network.extraction.html" class="external-link">%v%</a></span><span class="st">'vertex.names'</span>,</span>
<span>       boxed.labels<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>       label.cex<span class="op">=</span><span class="fl">0.65</span>,</span>
<span>  <span class="co">## Make rounded nodes</span></span>
<span>       vertex.sides<span class="op">=</span><span class="fl">45</span>,</span>
<span>  <span class="co">## Scale arrows to flow magnitude</span></span>
<span>       edge.lwd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="cn">F</span><span class="op">[</span><span class="va">f</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       edge.col<span class="op">=</span><span class="va">my.col</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>       vertex.col<span class="op">=</span><span class="va">my.col</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>       label.col<span class="op">=</span><span class="st">'white'</span>,</span>
<span>       vertex.border <span class="op">=</span> <span class="va">my.col</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>       vertex.lty <span class="op">=</span> <span class="fl">1</span>,</span>
<span>       xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>,<span class="fl">1</span><span class="op">)</span>,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>,<span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="vizualizing_files/figure-html/vizual3-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew K. Lau, S.R. Borrett, D.E. Hines, P. Singh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
